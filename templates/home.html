{% extends 'base.html' %}
{% load staticfiles %}
{% load post_tags %}

{% block title %}
    è’‹æŒ¯é£çš„åšå®¢|å…³æ³¨äº’è”ç½‘ITæŠ€æœ¯
{% endblock %}

{% block header_extend %}
    <link rel="stylesheet" href="{% static 'blog/css/home.css' %}">
    <script src="http://cdn.hcharts.cn/highcharts/highcharts.js"></script>
{% endblock %}

{% block nav_home_active %}active{% endblock %}

{% block home_content %}
    <div class="home_content">
        <div class="home_show">Jzf Blog</div>
        <div class="motto_name">åšæŒå‘è¡¨åŸåˆ›ä¸ªäººå­¦ä¹ ç¬”è®°</div>
        <div class="motto_name">è’‹æŒ¯é£çš„åšå®¢</div>
    </div>
{% endblock %}

{% block content %}

    <div class="container">

        <div class="row">
            <div class="col-sm-5 col-md-4 clearfix">

                <h3>
                    <span class="glyphicon glyphicon-pencil"></span>
                    <span>åšå®¢</span>
                    <span class="content-item-more">
                        å…±{{ post_count }}ç¯‡åšå®¢
                        <a href="/blog/">æ›´å¤š<span class="glyphicon glyphicon-chevron-right"></span></a>
                    </span>
                </h3>

                <div>
                    <div class="home-nav">
                        <h4 class="home-block-title">åšå®¢åˆ†ç±»</h4>
                        <ul class="list">
                            {% for category in category_list %}
                                <li class="light-item">
                                    <a href="{% url 'blog:category' category.id %}">{{ category }}</a>&nbsp;({% get_category_count category %})
                                </li>
                            {% empty %}
                            æš‚æ— åˆ†ç±»
                            {% endfor %}
                        </ul>
                    </div>

                    <div class="home-nav list light-blog">
                        <h4 class="home-block-title">å‹æƒ…é“¾æ¥</h4>
                        <ul>
                            <li><a href="https://blog.wktadmin.com/">æˆ‘çš„å­¦é•¿</a></li>
                            <li><a href="http://www.jloongking.cn/tp50/public/blog/index/review?viewname=index">jloongking</a></li>
                            <li><a href="https://www.liaoxuefeng.com/">å»–é›ªå³°è€å¸ˆ</a></li>
                            <li><a href="http://www.cnblogs.com/52-qq/p/8320303.html">Pythonå…¨æ ˆ</a></li>
                            <li><a href="https://www.cnblogs.com/">åšå®¢å›­</a></li>
                            <li><a href="https://crossoverjie.top/">crossoverjie</a></li>
                            <li><a href="http://blog.itcodai.com/">å€ªå‡æ­¦</a></li>
                            <li><a href="https://hubojing.github.io/">èƒ¡åšé–</a></li>
                            <li><a href="http://www.ityouknow.com/">çº¯æ´çš„å¾®ç¬‘</a></li>
                            <li><a href="http://www.ityouknow.com/">æå®¢åšå®¢</a></li>
                            <li><a href="http://www.tfss.me/">é¢“åºŸä¹¦ç”Ÿ</a></li>
                         </ul>
                    </div>

                </div>

            </div>

            <div class="col-sm-7 col-md-8">

                <h3 class="home_welcome">æ¬¢è¿æ¥è®¿ğŸ˜‹</h3>

                <div id="read-nav">
                    <ul class="nav nav-tabs">
                        <li role="presentation" class="active" ><a href="#">å…¬ä¼—å·</a></li>
                        <li role="presentation"><a href="#">ä¸ƒæ—¥é˜…è¯»é‡</a></li>
                        <li role="presentation"><a href="#">å…¨å¹´é˜…è¯»é‡</a></li>
                        <li role="presentation"><a href="#">ä¹¦ç±æ¨è</a></li>
                    </ul>
                </div>

                <div class="contents" id="contents">

                    <div id="read-item" class="cur clearfix">
                        <img class="wechat fl" src="{% static 'blog/media/wechat.jpg' %}" alt="å¾®ä¿¡äºŒç»´ç ">
                        <div class="fl">
                            <div class="read-item-name">ä»£ç æ‰“ç¢Ÿæ‰‹</div>
                            <div style="margin-left: 2em">å…³æ³¨äº’è”ç½‘ITæŠ€æœ¯</div>
                            <div class="read-item-content">
                                <p>è¿™é‡Œæ˜¯è’‹æŒ¯é£ä¸ªäººå…¬ä¼—å·</p>
                                <p>æœ‰æ—¶é—´ä¼šå‘ä¸€äº›ä¸ªäººéšç¬”å’Œè¿‘æœŸå­¦ä¹ ç¬”è®°</p>
                                <p>ä¹Ÿæ¬¢è¿å¤§å®¶æ‰¾æˆ‘èŠå¤©</p>
                            </div>
                        </div>
                    </div>

                    <div id="read-item">
                        <!-- å›¾è¡¨å®¹å™¨ DOM -->
                        <div id="container"></div>
                    </div>

                    <div id="read-item">
                        <div id="container2"></div>
                    </div>

                    <div id="read-item">
                        <div class="col-sm-3">
                            <h3>Python:</h3>
                            <p>1.è·Ÿè€é½å­¦python(ä»å…¥é—¨åˆ°ç²¾é€š) ä½œè€…:é½ä¼Ÿ</p>
                            <p>2.python Cookbookä¸­æ–‡ç‰ˆ ä½œè€…ï¼šDavid Beazley</p>
                            <p>3.å­¦ä¹ Pythonâ”€åšä¸ªæœ‰èƒ½åŠ›çš„è®¾è®¡å¸ˆ ä½œè€…:åŒ…ç‘æ¸…</p>
                            <p>4.Djangoæ¶ç«™çš„16å ‚è¯¾ ä½œè€…:ä½•æ•¦ç…Œ</p>
                        </div>

                        <div class="col-sm-3">
                            <h3>æ•°æ®åº“:</h3>
                            <p>1.SQLåŸºç¡€æ•™ç¨‹ ä½œè€…:MICK</p>
                            <p>2.MySQLä»å…¥é—¨åˆ°ç²¾é€š ä½œè€…:æ˜æ—¥ç§‘æŠ€</p>
                            <p>3.MongoDBå¤§æ•°æ®å¤„ç†æƒå¨æŒ‡å— ä½œè€…:David Hows</p>
                            <p>4.Rediså¼€å‘ä¸è¿ç»´ ä½œè€…:ä»˜ç£Š,å¼ ç›Šå†›</p>
                        </div>

                        <div class="col-sm-3">
                            <h3>å‰ç«¯:</h3>
                            <p>1.Html5å®æˆ˜ ä½œè€…:Rob Crowther</p>
                            <p>2.HTML+CSSç½‘é¡µè®¾è®¡ ä½œè€…:ç”°ä¸­é›¨,éƒ­ç£Š</p>
                            <p>3.Webå¼€å‘å…¸è—å¤§ç³»ï¼šjQueryç½‘é¡µå¼€å‘å®ä¾‹ç²¾è§£ ä½œè€…ï¼šé»„æ ¼åŠ›</p>
{#                            <p></p>#}
                        </div>

                        <div class="col-sm-3">
                            <h3>çˆ¬è™«:</h3>
                            <p>1.pythonç½‘ç»œçˆ¬è™«å®æˆ˜ ä½œè€…:èƒ¡æ¾æ¶›</p>
                            <p>2.ç½‘ç»œçˆ¬è™«å…¨è§£æ ä½œè€…ï¼šç½—åˆš</p>
                            <h3>å…¶ä»–</h3>
                            <p>1.ç°ä»£è½¯ä»¶å·¥å‚æ„å»ºä¹‹æ³• ä½œè€…ï¼šé‚¹æ¬£</p>
{#                            <p></p>#}
{#                            <p></p>#}
                        </div>
                    </div>

                </div>



            </div>
        </div>

        <div class="row">
            <div class="col-sm-4">
               <div class="home-block">
                    <h4 class="home-block-title">æœ€æ–°å‘è¡¨</h4>
                    <ul class="list">
                        {% for post in new_publish %}
                            <li class="light-item">
                                <a href="{% url 'blog:detail' post.id %}">{{ post|truncatechars:21 }}</a>
                            </li>
                        {% empty %}
                            æš‚æ— å‘è¡¨
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="col-sm-4">
               <div class="home-block">
                    <h4 class="home-block-title">æœ€æ–°æ¨è</h4>
                    <ul class="list">
                        {% for post in new_recommend %}
                            <li class="light-item">
                                <a href="{% url 'blog:detail' post.content_object.id %}">{{ post.content_object.title }}</a>
                            </li>
                        {% empty %}
                            æš‚æ— æ¨è
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="col-sm-4">
               <div class="home-block">
                    <h4 class="home-block-title">éšæœºæ¨è</h4>
                    <ul class="list">
                        {% get_random_recomment as random_list%}
                        {% for post in random_list %}
                            <li class="light-item">
                                <a href="{% url 'blog:detail' post.id %}">{{ post }}</a>
                            </li>
                        {% empty %}
                            æš‚æ— æ¨è
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <h3 class="content-item-title">
            <span class="glyphicon glyphicon-fire"></span>
            <span>çƒ­è¯»æ¦œ</span>
        </h3>

        <div class="row">
            <div class="col-sm-4">
               <div class="home-block">
                    <h4 class="home-block-title">å‘¨æ¦œ</h4>
                    <ul class="list">
                        {% for post in last_7_days_hot_data %}
                            <li class="light-item">
                                <a href="{% url 'blog:detail' post.id %}">{{ post.title|truncatechars:21 }}</a>
                            </li>
                        {% empty %}
                            æš‚æ— å‘¨æ¦œ
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="col-sm-4">
               <div class="home-block">
                    <h4 class="home-block-title">æœˆæ¦œ</h4>
                    <ul class="list">
                        {% for post in last_30_days_hot_data %}
                            <li class="light-item">
                                <a href="{% url 'blog:detail' post.id %}">{{ post.title|truncatechars:21 }}</a>
                            </li>
                        {% empty %}
                            æš‚æ— æœˆæ¦œ
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="col-sm-4">
               <div class="home-block">
                    <h4 class="home-block-title">æ€»æ¦œ</h4>
                    <ul class="list">
                        {% for post in all_hot_posts %}
                            <li class="light-item">
                                <a href="{% url 'blog:detail' post.id %}">{{ post.title|truncatechars:21 }}</a>
                            </li>
                        {% empty %}
                            æš‚æ— æ€»æ¦œ
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    </div>



{% endblock %}
{% block script_extends %}
     <script>
        // å›¾è¡¨é…ç½®
        var options1 = {
            chart: {
                type: 'line' },   //æŒ‡å®šå›¾è¡¨çš„ç±»å‹ï¼Œé»˜è®¤æ˜¯æŠ˜çº¿å›¾ï¼ˆlineï¼‰
            title: { text: null },     // æ ‡é¢˜
            xAxis: {
                categories: {{ seven_dates|safe }},  // x è½´åˆ†ç±»
                tickmarkPlacement: 'on',
                title: { text: 'è¿‡å»ä¸ƒæ—¥é˜…è¯»é‡å˜åŒ–' }
            },

            yAxis: {
                title: { text: null }, // y è½´æ ‡é¢˜
                labels:{ enabled:false },
                gridLineDashStyle: 'ShortDash',  // åˆ»åº¦çº¿å¯¹é½æ–¹å¼
            },

            series: [{                              // æ•°æ®åˆ—
                name: 'é˜…è¯»é‡',                        // æ•°æ®åˆ—å
                data: {{ seven_read_nums }}                     // æ•°æ®
            }],

            plotOptions:{
                line:{
                    dataLabels: {
                        enabled: true,
                        color:'darkblue',
                    }
                }
            },

            legend:{ enabled: false },     //æ¶ˆé™¤å›¾ä¾‹
            credits: { enabled:false },     //æ¶ˆå»ç‰ˆæƒä¿¡æ¯
        };
        // å›¾è¡¨åˆå§‹åŒ–å‡½æ•°
        var chart = Highcharts.chart('container', options1);

        var options2 = {
            chart: { type: 'line' },   //æŒ‡å®šå›¾è¡¨çš„ç±»å‹ï¼Œé»˜è®¤æ˜¯æŠ˜çº¿å›¾ï¼ˆlineï¼‰
            title: { text: null },     // æ ‡é¢˜
            xAxis: {
                categories: {{ thirty_dates|safe }},  // x è½´åˆ†ç±»
                tickmarkPlacement: 'on',
                title: { text: {{ year }}+'å¹´é˜…è¯»é‡å˜åŒ–'}
            },

            yAxis: {
                title: { text: null }, // y è½´æ ‡é¢˜
                labels:{ enabled:false },
                gridLineDashStyle: 'ShortDash',  // åˆ»åº¦çº¿å¯¹é½æ–¹å¼
            },

            series: [{                              // æ•°æ®åˆ—
                name: 'é˜…è¯»é‡',                        // æ•°æ®åˆ—å
                data: {{ thirty_read_nums }}                     // æ•°æ®
            }],

            plotOptions:{
                line:{
                    dataLabels: {
                        enabled: true,
                        color:'darkblue',
                    }
                }
            },

            legend:{ enabled: false },     //æ¶ˆé™¤å›¾ä¾‹
            credits: { enabled:false },     //æ¶ˆå»ç‰ˆæƒä¿¡æ¯
        };
        // å›¾è¡¨åˆå§‹åŒ–å‡½æ•°
        var chart = Highcharts.chart('container2', options2);

        /*ç»‘å®šåˆ‡æ¢æ’è¡Œæ¦œé¡µé¢*/
         $('#read-nav li').click(function(){

				$(this).blur(); //æ¶ˆé™¤ç„¦ç‚¹
				{#alert($(this).index());#}

				$(this).addClass('active').siblings().removeClass('active');

				// $(this).index() è·å–æ‰€åœ¨å±‚çº§ç´¢å¼•å€¼
				// alert($(this).index());

				$('#contents #read-item').eq($(this).index()).addClass('cur').siblings().removeClass('cur');
			    $('html').animate({scrollTop: $('#read-nav').offset().top - 100}, 500);
         });

     </script>


{% endblock %}