{#{% load staticfiles  %}#}
{% load static from staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {# 兼容IE浏览器#}
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    {# 响应式布局#}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 百度收录标识 -->
    <meta name="baidu-site-verification" content="5RbnZ7cZ7F" />
    <!-- 搜狗收录标识 -->
    <meta name="baidu-site-verification" content="G7rR0VHytn" />
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>{% block title %}{% endblock%}</title>
{#   <link rel="stylesheet" href="/static/blog/css/base.css">#}
    <link rel="shortcut icon" href="{% static 'blog/media/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'blog/css/base.css' %}">
    <link type="text/css" rel="stylesheet" href={% static 'blog/css/myRewards.css' %}>
    <link rel="stylesheet" href="{% static 'blog/css/prism.css' %}">
    <script src="{% static 'ckeditor/ckeditor/plugins/prism/lib/prism/prism_patched.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'bootstrap-3.3.7/css/bootstrap.min.css' %}">
    <script type="text/javascript" src="{% static 'blog/js/jquery-1.12.4.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap-3.3.7/js/bootstrap.min.js' %}"></script>
    {% block header_extend %}{% endblock %}
</head>

<body>
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container_fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="{% url 'blog:blog' %}">蒋振飞的博客</a>
                <button class="navbar-toggle collapsed nav_bar" data-target="#navbar-collapse" data-toggle="collapse">
                {#  <span class="sr-only"></span>#}
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                     <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar-collapse" class="collapse navbar-collapse">
                 <ul class="nav navbar-nav base_head">
                     {#博客首页#}
                     <li class="{% block nav_home_active %}{% endblock %}">
                         <a href="{% url 'blog:home' %}"><span class="glyphicon glyphicon-home">博客首页</span></a>
                     </li>
                     {# 博客列表 #}
                     <li class="{% block nav_blog_active %}{% endblock %}">
                         <a href="{% url 'blog:blog' %}"><span class="glyphicon glyphicon-pencil">博客列表</span></a>
                     </li>
                     {#<li>#}{#  <a href="/admin">博客管理</a>#}{#</li>#}
                     {# 博客分类 #}
                     <li class="{% block nav_category_active %}{% endblock %}">
                         <a href="{% url 'blog:category_list' %}"><span class="glyphicon glyphicon-file">博客分类</span></a>
                     </li>
                     {# 日期归档 #}
                     <li class="{% block nav_date_active %}{% endblock %}">
                         <a href="{% url 'blog:date_list' %}"><span class="glyphicon glyphicon-book">日期归档</span></a>
                     </li>
                     {# 关于我 #}
                    <li class="{% block nav_about_active %}{% endblock %} hidden-sm">
                        <a href="{% url 'user:about' %}"><span class="glyphicon glyphicon-education">关于我</span></a>
                     </li>
                </ul>

                 <ul class="nav navbar-nav navbar-right">
                    {% if not user.is_authenticated %}
                        {# 登录 #}
                        <li class="hidden-sm {% block nav_login_active %}{% endblock %}">
                            <a href="{% url 'user:login' %}?from={{ request.get_full_path }}">登录</a>
                        </li>
                        {# 注册 #}
                        <li class="hidden-sm hidden-md {% block nav_register_active %}{% endblock %}">
                            <a href="{% url 'user:register' %}?from={{ request.get_full_path }}">注册</a>
                        </li>
                    {% else %}
                        <li class="dropdown hover">
                            <a href="#" class="hidden-md hidden-sm dropdown-toggle" data-toggle="dropdown" role="button"><span class="glyphicon glyphicon-user"></span>&nbsp;您好:&nbsp;{{ user.username }}<span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="{% url 'user:user_info' %}">用户中心</a></li>
                                <li><a href="{% url 'user:logout' %}?from={{ request.get_full_path }}">退出</a></li>
                            </ul>
                        </li>
                    {% endif %}
                    {# 搜索框 #}
                    <form method='get' class="navbar-form navbar-left" action="/search/">
                        <div class="form-group search_box">
                            <input type="text" name="q" class="form-control" placeholder="搜点啥?">
                        </div>
                        <button type="submit" class="hidden-sm btn btn-default"><span class="glyphicon glyphicon-search"></span></button>
                    </form>
                </ul>
            </div>
        </div>
    </div>

    {% block home_content %}{% endblock %}

    {% block content %}{% endblock %}

    <div class="footer">
        <div class="website-info">
            <div class="about">
                <h4>关于本站</h4>
                <p>1.基于Django+Bootstrap开发</p>
                <p>2.主要发表本人的技术笔记与随笔</p>
                <p>3.本站于2018-5-30开始建站</p>
            </div>
            <div class="response hidden-xs">
                <h4>建议反馈</h4>
                <p>1.欢迎注册评论</p>
                <p>2.可在相应的博文底下评论</p>
                <p>3.发邮件到jack_970124@163.com</p>
            </div>
            <div class="contact hidden-xs hidden-sm">
                <h4>欢迎联系</h4>
                <p>&nbsp;<img src="{% static 'blog/media/qq.ico' %}" alt="qq">：1378482556</p>
                <p><img src="{% static 'blog/media/github.ico' %}" alt="github">：<a href="https://github.com/XiaoFei-97">https://github.com/XiaoFei-97</a></p>
            </div>
        </div>

        <div class="copyright">
            <span>Welcome to visit my website © Jack Jiang</span>
            <span class="hidden-xs"><a href="http://www.miibeian.gov.cn/" target="_blank">赣ICP备18008471号</a></span>
        </div>
    </div>

    {% block script_extends %}{% endblock %}
    <script color="0,143,183" opacity='1' zIndex="-2" count="50" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>


    <script>
///轮播
$(function() {
    //$("#toright").hide();
    //$("#toleft").hide();
    $('#toright').hover(function() {
        $("#toleft").hide()
    }, function() {
        $("#toleft").show()
    });
    $('#toleft').hover(function() {
        $("#toright").hide()
    }, function() {
        $("#toright").show()
    })
});

var t;
var index = 0;
/////自动播放
t = setInterval(play, 5000);

function play() {
    index++;
    if (index > 4) {
        index = 0
    }
    // console.log(index)
    $("#lunbobox ul li").eq(index).css({
        "background": "#999",
        "border": "1px solid #ffffff"
    }).siblings().css({
        "background": "#cccccc",
        "border": ""
    });

    $(".lunbo a ").eq(index).fadeIn(2000).siblings().fadeOut(2000);
};

///点击鼠标 图片切换
$("#lunbobox ul li").click(function() {

    //添加 移除样式
    //$(this).addClass("lito").siblings().removeClass("lito"); //给当前鼠标移动到的li增加样式 且其余兄弟元素移除样式   可以在样式中 用hover 来对li 实现
    $(this).css({
        "background": "#999",
        "border": "1px solid #ffffff"
    }).siblings().css({
        "background": "#cccccc"
    });
    var index = $(this).index(); //获取索引 图片索引与按钮的索引是一一对应的
    console.log(index);

    $(".lunbo a ").eq(index).fadeIn(2000).siblings().fadeOut(2000); // siblings  找到 兄弟节点(不包括自己）
});

/////////////上一张、下一张切换
$("#toleft").click(function() {
    index--;
    if (index < 0) //判断index<0的情况为：开始点击#toright  index=0时  再点击 #toleft 为负数了 会出错
    {
        index = 4
    }
    console.log(index);
    $("#lunbobox ul li").eq(index).css({
        "background": "#999",
        "border": "1px solid #ffffff"
    }).siblings().css({
        "background": "#cccccc"
    });

    $(".lunbo a ").eq(index).fadeIn(2000).siblings().fadeOut(2000); // siblings  找到 兄弟节点(不包括自己）必须要写
}); // $("#imgbox a ")获取到的是一个数组集合 。所以可以用index来控制切换

$("#toright").click(function() {
    index++;
    if (index > 4) {
        index = 0
    }
    console.log(index);
    $(this).css({
        "opacity": "0.5"
    });
    $("#lunbobox ul li").eq(index).css({
        "background": "#999",
        "border": "1px solid #ffffff"
    }).siblings().css({
        "background": "#cccccc"
    });
    $(".lunbo a ").eq(index).fadeIn(2000).siblings().fadeOut(2000); // siblings  找到 兄弟节点(不包括自己）
});
$("#toleft,#toright").hover(function() {
        $(this).css({
            "color": "black"
        })
    },
    function() {
        $(this).css({
            "opacity": "0.3",
            "color": ""
        })
    });
///

///////鼠标移进  移出
$("#lunbobox ul li,.lunbo a div,#toright,#toleft ").hover(
    ////////鼠标移进
    function() {
        $('#toright,#toleft').show();
        clearInterval(t);

    },
    ///////鼠标移开
    function() {
        //$('#toright,#toleft').hide()
        //alert('aaa')
        t = setInterval(play, 5000);

        function play() {
            index++;
            if (index > 4) {
                index = 0
            }
            $("#lunbobox ul li").eq(index).css({
                "background": "#999",
                "border": "1px solid #ffffff"
            }).siblings().css({
                "background": "#cccccc"
            });
            $(".lunbo a ").eq(index).fadeIn(2000).siblings().fadeOut(2000);
        }
    });

        window.tctipConfig = {
        	//最上面的文字
            headText: "欢迎打赏支持我 ღ",
            //侧边栏文本
            siderText: "公告 & 打赏",
            //侧边栏文本高度调整
            siderTextTop: "-20px",
            //侧边栏背景颜色
            siderBgcolor: "#323d45",
            //整个侧边栏的高度设置可以px，em，或百分比
            siderTop:"118px",
            //底部文字
            buttomText:"了解更多",
            //底部文字链接
            buttomLink:"https://github.com/XiaoFei-97/tctip.git",

            /**
            list规定打赏的方式，list有几个元素，代表有几种打赏方式,最多五种。
            分别解释如下:

            key: 为一个英文,用户可随意定义

            icon:
                    左侧icon图标的url,可以传入相对路径，此时会根据imagePrefix或者staticPrefix进行路径修正。
                    如果传入绝对路径，则直接展示，不进行路径修正。
                    如果key是默认值，且用户没有传入icon,则使用系统自带icon。
            name:
                    支付方式的名称，用于左侧tab展示的说明。name可以使用系统默认值；如果没有系统默认值，则需要用户传入
            desc:
                    支付方式更纤细说明，用于二维码下方说明文字,建议不超过五个字。当desc为空的时候，系统使用默认值，如果没有默认值，则使用name字段

            text:
                    长文本内容（和qrimg不能同时使用，一般可用于写公告内容）
            qrimg:
                    当用户没有支付方式账号的时候，可以直接传入二维码图片；比如用户可以上传微信面对面收钱的二维码图片到服务器，然后将图片的url作为qrimg字段传入。此时二维码下方只展示desc字段，不展示account.
                    当用户同时传入qrimg和accounts时候，以qrimg为准。

            className:
                    className可以为空，或者传入myR-on；默认显示项。
        	**/
            list:{
            notice: {icon: "{% static 'blog/media/tip.png' %}", name:"公告栏", className:"myR-on", text: '<p style="text-indent:1em;">最近白天需要考驾照，晚上继续学习爬虫及机器学习相关内容，网站更新较慢</p><p style="text-align:right;">2018-07-22</p>'},
                alipay: {icon: "{% static 'blog/media/alipay.png' %}", name:"支付宝", desc: "用支付宝给振飞打赏\n感谢支持！", qrimg: "{% static 'blog/media/alipay.jpg' %}"},
                weixin: {icon: "{% static 'blog/media/weixin.png' %}", name:"微信", desc: "用微信给振飞打赏\n感谢支持！", qrimg: "{% static 'blog/media/wepay.png' %}"}
            }
        };

        // 百度统计
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?d630f1fe6530178a71dcc21149c6e6bf";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();


    </script>
    <script src="{% static 'blog/js/tctip.min.js' %}"></script>

</body>

</html>